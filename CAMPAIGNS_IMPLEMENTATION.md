# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è "–¶–µ–ª–µ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏" (Crowd-Sadaqa)

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### Backend

#### 1. –°–µ—Ä–≤–∏—Å—ã (`backend/src/services/campaigns.ts`)
- ‚úÖ `listCampaigns()` - –°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (—Å—Ç–∞—Ç—É—Å, —Å—Ç—Ä–∞–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è)
- ‚úÖ `getCampaign()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚úÖ `createCampaign()` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ (—Å—Ç–∞—Ç—É—Å: `pending`, –æ–∂–∏–¥–∞–µ—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏)
- ‚úÖ `donateToCampaign()` - –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ –≤ –∫–∞–º–ø–∞–Ω–∏—é —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- ‚úÖ `moderateCampaign()` - –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–∏ (approve/reject) –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- ‚úÖ `getCampaignReport()` - –û—Ç—á–µ—Ç –ø–æ –∫–∞–º–ø–∞–Ω–∏–∏ (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è)
- ‚úÖ `checkAndCompleteCampaigns()` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–π (–ø–æ —Ü–µ–ª–∏ –∏–ª–∏ —Å—Ä–æ–∫—É)

#### 2. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (`backend/src/controllers/campaigns.ts`)
- ‚úÖ `list()` - GET /api/v1/campaigns
- ‚úÖ `get()` - GET /api/v1/campaigns/:id
- ‚úÖ `create()` - POST /api/v1/campaigns
- ‚úÖ `donate()` - POST /api/v1/campaigns/:id/donate
- ‚úÖ `moderate()` - PATCH /api/v1/campaigns/:id/status (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
- ‚úÖ `getReport()` - GET /api/v1/campaigns/:id/report

#### 3. –†–æ—É—Ç—ã (`backend/src/routes/campaigns.ts`)
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- ‚úÖ –ê–¥–º–∏–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç admin –ø—Ä–∞–≤–∞)

#### 4. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (`backend/src/database/models/Campaign.ts`)
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã: `draft`, `pending`, `approved`, `active`, `completed`, `rejected`
- ‚úÖ –°–≤—è–∑–∏ —Å User (owner) –∏ Fund

### Frontend

#### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ `CampaignForm` - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ `CampaignDonateForm` - –§–æ—Ä–º–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –≤ –∫–∞–º–ø–∞–Ω–∏—é
- ‚úÖ –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 2. –°—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ `CampaignsPage` - –°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å—Ç—Ä–∞–Ω–µ
  - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏
  - –°—á–µ—Ç—á–∏–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - –ë–µ–π–¥–∂ "–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ" –¥–ª—è –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
  
- ‚úÖ `CampaignDetailPage` - –î–µ—Ç–∞–ª–∏ –∫–∞–º–ø–∞–Ω–∏–∏
  - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–º–ø–∞–Ω–∏–∏
  - –§–æ—Ä–º–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–∞)
  - –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ (–µ—Å–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
  - –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—Ç—á–µ—Ç–∞
  
- ‚úÖ `CreateCampaignPage` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `CampaignForm`
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

#### 3. API –∫–ª–∏–µ–Ω—Ç (`frontend/src/services/api.ts`)
- ‚úÖ `campaignsApi.list()` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
- ‚úÖ `campaignsApi.get()` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `campaignsApi.create()` - –°–æ–∑–¥–∞–Ω–∏–µ
- ‚úÖ `campaignsApi.donate()` - –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ
- ‚úÖ `campaignsApi.getReport()` - –û—Ç—á–µ—Ç
- ‚úÖ `campaignsApi.moderate()` - –ú–æ–¥–µ—Ä–∞—Ü–∏—è (–∞–¥–º–∏–Ω)

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É:
   - –ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, 5-100 —Å–∏–º–≤–æ–ª–æ–≤)
   - –û–ø–∏—Å–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, 20-2000 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–º–µ—á–µ—Ç—å, —Å–∏—Ä–æ—Ç—ã, –æ–±—É—á–µ–Ω–∏–µ, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –ø–æ–º–æ—â—å, –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —Ñ–æ–Ω–¥–∞)
   - –°—É–º–º–∞ —Ü–µ–ª–∏ (100 - 10 000 000 ‚ÇΩ)
   - –°—Ç—Ä–∞–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. –ö–∞–º–ø–∞–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`
3. –ü–æ—Å–ª–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–æ–º ‚Üí —Å—Ç–∞—Ç—É—Å `active`
4. –ö–∞–º–ø–∞–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–º–ø–∞–Ω–∏–π
- –§–∏–ª—å—Ç—Ä—ã: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Å—Ç—Ä–∞–Ω–∞
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ (`active`, `approved`)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏

#### –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ –≤ –∫–∞–º–ø–∞–Ω–∏—é
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–º–ø–∞–Ω–∏–∏ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `active`)
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å `end_date`)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏
4. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è
5. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `collected_amount`
6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏

#### –ú–æ–¥–µ—Ä–∞—Ü–∏—è (–∞–¥–º–∏–Ω)
- `PATCH /api/v1/campaigns/:id/status` —Å `action: 'approve' | 'reject'`
- –¢—Ä–µ–±—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `x-admin-api-key` –∏–ª–∏ —Ä–æ–ª—å `admin`
- –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏: `status = 'active'`, `verified_by_admin = true`

#### –û—Ç—á–µ—Ç—ã
- `GET /api/v1/campaigns/:id/report`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–º–ø–∞–Ω–∏–∏
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Å—É–º–º–∞, —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å)
  - –°–ø–∏—Å–æ–∫ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π
  - –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (YooKassa/CloudPayments)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫–∞–º–ø–∞–Ω–∏–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- ‚úÖ –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏ (`collected_amount >= goal_amount`)
- ‚úÖ –ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏—é —Å—Ä–æ–∫–∞ (`end_date < now`)
- ‚úÖ –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `checkAndCompleteCampaigns()`

## üìã –ß–µ–∫–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [x] –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö Campaign
- [x] –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–º–ø–∞–Ω–∏—è–º–∏
- [x] API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- [x] –ê–¥–º–∏–Ω-–º–æ–¥–µ—Ä–∞—Ü–∏—è
- [x] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏
- [x] –§–æ—Ä–º–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –≤ –∫–∞–º–ø–∞–Ω–∏—é
- [x] –°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π –∫–∞–º–ø–∞–Ω–∏–∏
- [x] –û—Ç—á–µ—Ç—ã –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏
- [x] –ü–æ–¥—Å—á–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [x] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ multer
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ S3 –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ

2. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∞ –æ –Ω–æ–≤—ã—Ö –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è—Ö
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

3. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏/–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**
   - –ê–≤—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

4. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å UI**
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∫–∞–º–ø–∞–Ω–∏–π
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

5. **–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤**
   - PDF –æ—Ç—á–µ—Ç—ã –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
   - CSV —ç–∫—Å–ø–æ—Ä—Ç –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ú–æ–¥—É–ª—å "–¶–µ–ª–µ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏" –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

