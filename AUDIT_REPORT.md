# üìã –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ Nisab –ø–æ –¢–ó

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 2025-01-02  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ / ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ / ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–æ–≤ Mini App

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏:
- ‚úÖ **–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å** (`/donate`) - `DonatePage.tsx`
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å** (`/support`) - `SupportPage.tsx`
- ‚úÖ **–¶–µ–ª–µ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏** (`/campaigns`) - `CampaignsPage.tsx`, `CreateCampaignPage.tsx`
- ‚úÖ **–ü–æ–¥–ø–∏—Å–∫–∞** (`/subscription`) - `SubscriptionPage.tsx`
- ‚úÖ **–ó–∞–∫—è—Ç** (`/zakat`) - `ZakatPage.tsx`
- ‚úÖ **–§–æ–Ω–¥—ã-–ø–∞—Ä—Ç–Ω—ë—Ä—ã** (`/partners`) - `PartnersPage.tsx`, `PartnerApplicationPage.tsx`
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è** (`/history`) - `HistoryPage.tsx`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í—Å–µ –≤–∫–ª–∞–¥–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**

---

## 2. API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã (Backend)

### 2.1 –§–æ–Ω–¥—ã

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `GET /api/v1/funds?country=RU&purpose=orphans` | ‚úÖ `fundsRoutes.get('/')` | ‚úÖ |
| `GET /api/v1/funds/{id}` | ‚úÖ `fundsRoutes.get('/:id')` | ‚úÖ |
| `POST /api/v1/funds/sync` (–∞–¥–º–∏–Ω) | ‚úÖ `fundsController.sync` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

### 2.2 –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `POST /api/v1/donations/init` | ‚úÖ `donationsRoutes.post('/init')` | ‚úÖ |
| `GET /api/v1/donations/{id}/status` | ‚úÖ `donationsRoutes.get('/:id/status')` | ‚úÖ |
| `POST /api/v1/payments/webhook/yookassa` | ‚úÖ `webhooksRoutes.post('/yookassa')` | ‚úÖ |
| `POST /api/v1/payments/webhook/cloudpayments` | ‚úÖ `webhooksRoutes.post('/cloudpayments')` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

### 2.3 –ü–æ–¥–ø–∏—Å–∫–∏

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `POST /api/v1/subscriptions/init` | ‚úÖ `subscriptionsRoutes.post('/init')` | ‚úÖ |
| `PATCH /api/v1/subscriptions/{id}` | ‚úÖ `subscriptionsRoutes.patch('/:id')` | ‚úÖ |
| `GET /api/v1/me/subscriptions` | ‚úÖ `meRoutes.get('/subscriptions')` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

### 2.4 –¶–µ–ª–µ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `GET /api/v1/campaigns` | ‚úÖ `campaignsRoutes.get('/')` | ‚úÖ |
| `GET /api/v1/campaigns/{id}` | ‚úÖ `campaignsRoutes.get('/:id')` | ‚úÖ |
| `POST /api/v1/campaigns` | ‚úÖ `campaignsRoutes.post('/')` | ‚úÖ |
| `POST /api/v1/campaigns/{id}/donate` | ‚úÖ `campaignsRoutes.post('/:id/donate')` | ‚úÖ |
| `PATCH /api/v1/campaigns/{id}/status` (–∞–¥–º–∏–Ω) | ‚úÖ `campaignsRoutes.patch('/:id/status')` | ‚úÖ |
| `GET /api/v1/campaigns/{id}/report` | ‚úÖ `campaignsRoutes.get('/:id/report')` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

### 2.5 –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫—è—Ç–∞

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `POST /api/v1/zakat/calc` | ‚úÖ `zakatRoutes.post('/calc')` | ‚úÖ |
| `POST /api/v1/zakat/pay` | ‚úÖ `zakatRoutes.post('/pay')` | ‚úÖ |
| `GET /api/v1/zakat/history` | ‚ö†Ô∏è –ù–µ –Ω–∞–π–¥–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç | ‚ö†Ô∏è |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫—è—Ç–∞ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `GET /api/v1/me/history?type=zakat`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ (–∏—Å—Ç–æ—Ä–∏—è —á–µ—Ä–µ–∑ –æ–±—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç)**

### 2.6 –§–æ–Ω–¥—ã-–ø–∞—Ä—Ç–Ω—ë—Ä—ã

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `GET /api/v1/partners/countries` | ‚úÖ `partnersRoutes.get('/countries')` | ‚úÖ |
| `GET /api/v1/partners/funds` | ‚úÖ `partnersRoutes.get('/funds')` | ‚úÖ |
| `POST /api/v1/partners/applications` | ‚úÖ `partnersRoutes.post('/applications')` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

### 2.7 –ò—Å—Ç–æ—Ä–∏—è –∏ –æ—Ç—á—ë—Ç—ã

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `GET /api/v1/me/history?type=donation\|subscription\|zakat\|campaign` | ‚úÖ `meRoutes.get('/history')` | ‚úÖ |
| `GET /api/v1/me/receipts/{id}.pdf` | ‚úÖ `meRoutes.get('/receipts/:id.pdf')` | ‚úÖ |
| `GET /api/v1/reports/funds?fund_id=&from=&to=` | ‚úÖ `reportsRoutes.get('/funds')` | ‚úÖ |
| `GET /api/v1/reports/summary?period=monthly` | ‚úÖ `reportsRoutes.get('/summary')` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

### 2.8 –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `GET /api/v1/admin/partners/applications` | ‚úÖ `adminRoutes.get('/partners/applications')` | ‚úÖ |
| `PATCH /api/v1/admin/partners/applications/{id}` | ‚úÖ `adminRoutes.patch('/partners/applications/:id')` | ‚úÖ |
| `PATCH /api/v1/admin/funds/{id}` | ‚úÖ `adminRoutes.patch('/funds/:id')` | ‚úÖ |
| `PATCH /api/v1/admin/campaigns/{id}/status` | ‚úÖ `adminRoutes.patch('/campaigns/:id/status')` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

---

## 3. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏:

| –ú–æ–¥–µ–ª—å –¢–ó | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å |
|----------|------|--------|
| `User` | ‚úÖ `backend/src/database/models/User.ts` | ‚úÖ |
| `Fund` | ‚úÖ `backend/src/database/models/Fund.ts` | ‚úÖ |
| `Donation` | ‚úÖ `backend/src/database/models/Donation.ts` | ‚úÖ |
| `Subscription` | ‚úÖ `backend/src/database/models/Subscription.ts` | ‚úÖ |
| `Campaign` | ‚úÖ `backend/src/database/models/Campaign.ts` | ‚úÖ |
| `ZakatCalc` | ‚úÖ `backend/src/database/models/ZakatCalc.ts` | ‚úÖ |
| `PartnerApplication` | ‚úÖ `backend/src/database/models/PartnerApplication.ts` | ‚úÖ |
| `DerivedAlms` | ‚úÖ `backend/src/database/models/DerivedAlms.ts` | ‚úÖ |
| `Report` | ‚úÖ `backend/src/database/models/Report.ts` | ‚úÖ |

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π –º–æ–¥–µ–ª–µ–π:

#### ‚úÖ Campaign
- ‚úÖ `id, title, description, category, goal_amount, collected_amount`
- ‚úÖ `owner_id, fund_id?, country_code`
- ‚úÖ `status: "draft"|"pending"|"approved"|"active"|"completed"|"rejected"`
- ‚úÖ `image_url?, end_date, verified_by_admin?, created_at, updated_at`

#### ‚úÖ Donation
- ‚úÖ `id, user_id, fund_id?, campaign_id?`
- ‚úÖ `amount_value, currency`
- ‚úÖ `provider, status`
- ‚úÖ `receipt_url?, created_at, paid_at?`

#### ‚úÖ Subscription
- ‚úÖ `id, user_id, plan: "basic"|"pro"|"premium"`
- ‚úÖ `period: "P1M"|"P3M"|"P6M"|"P12M"`
- ‚úÖ `status: "active"|"paused"|"canceled"|"expired"`
- ‚úÖ `next_charge_at, created_at, updated_at`

#### ‚úÖ Fund
- ‚úÖ `id, name, country_code, purposes[], categories[]`
- ‚úÖ `verified, partner_enabled`
- ‚úÖ `logo_url?, short_desc?, website?, social_links[], active`

#### ‚úÖ PartnerApplication
- ‚úÖ `id, user_id?, org_name, country_code, categories[]`
- ‚úÖ `website, contact_name, email, phone?`
- ‚úÖ `about?, status, consents, reviewer_id?, comment?`

#### ‚úÖ ZakatCalc
- ‚úÖ `id, user_id, payload_json, zakat_due, above_nisab`
- ‚úÖ `nisab_value, nisab_currency`

#### ‚úÖ DerivedAlms
- ‚úÖ `id, subscription_id, user_id, percent, amount_value, currency, fund_id`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í—Å–µ –º–æ–¥–µ–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¢–ó**

---

## 4. Telegram Bot –∫–æ–º–∞–Ω–¥—ã

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|--------|
| `/start` | ‚úÖ `bot.ts:156` | ‚úÖ |
| `/sadaqa` –∏–ª–∏ `/donate` | ‚úÖ `bot.ts:183-200` | ‚úÖ |
| `/support` | ‚úÖ `bot.ts:202` | ‚úÖ |
| `/zakat` | ‚úÖ `bot.ts:221` | ‚úÖ |
| `/subscribe` | ‚úÖ `bot.ts:235` | ‚úÖ |
| `/help` | ‚úÖ `bot.ts:248` | ‚úÖ |
| `/info` | ‚úÖ `bot.ts:260` | ‚úÖ |
| `/campaigns` | ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ | ‚ö†Ô∏è |
| `/partners` | ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ | ‚ö†Ô∏è |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–º–∞–Ω–¥—ã `/campaigns` –∏ `/partners` –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ inline-–∫–Ω–æ–ø–∫–∏ –≤ `/start`, –Ω–æ –Ω–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ `/campaigns` –∏ `/partners` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç**

### Inline-–∫–Ω–æ–ø–∫–∏ –∏ callback_data:

| Callback –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|
| `donate:fund=<id>;sum=500` | ‚úÖ `bot.ts:363` | ‚úÖ |
| `support:sum=1000` | ‚úÖ `bot.ts:345` | ‚úÖ |
| `sub:plan=premium;period=P12M` | ‚ö†Ô∏è –ß–µ—Ä–µ–∑ WebApp | ‚ö†Ô∏è |
| `campaign:join:<id>` | ‚úÖ `bot.ts:395` | ‚úÖ |
| `zakat:calc` | ‚úÖ `bot.ts:408` | ‚úÖ |

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —á–µ—Ä–µ–∑ WebApp –Ω–∞–ø—Ä—è–º—É—é)**

---

## 5. –ü–ª–∞—Ç–µ–∂–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|----------|-----------|--------|
| YooKassa | ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ | ‚úÖ |
| CloudPayments | ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ | ‚úÖ |

### ‚úÖ Webhooks:

- ‚úÖ `POST /api/v1/payments/webhook/yookassa` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏
- ‚úÖ `POST /api/v1/payments/webhook/cloudpayments` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ BIN:

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –∫–∞—Ä—Ç—ã –ø–æ BIN ‚Üí –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤:
- `donationsService.initDonation()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PaymentProvider.selectProvider('auto', data.card_bin)`
- `campaignsService.donateToCampaign()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PaymentProvider.selectProvider('auto', data.card_bin)`
- `subscriptionsService.initSubscription()` - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `card_bin` –ø–∞—Ä–∞–º–µ—Ç—Ä

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–õ–æ–≥–∏–∫–∞ BIN-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞**

---

## 6. –ü–æ–¥–ø–∏—Å–∫–∏ –∏ —Å–∞–¥–∞–∫–∞-–¥–∂–∞—Ä–∏—è

### ‚úÖ –¢–∞—Ä–∏—Ñ—ã:

| –¢–∞—Ä–∏—Ñ | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|------|-----------|--------|
| –ë–∞–∑–æ–≤—ã–π | ‚úÖ `plan: 'basic'` | ‚úÖ |
| Pro | ‚úÖ `plan: 'pro'` | ‚úÖ |
| Premium | ‚úÖ `plan: 'premium'` | ‚úÖ |

### ‚úÖ –ü–µ—Ä–∏–æ–¥—ã:

| –ü–µ—Ä–∏–æ–¥ | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|--------|-----------|--------|
| 1 –º–µ—Å (P1M) | ‚úÖ | ‚úÖ |
| 3 –º–µ—Å (P3M) | ‚úÖ | ‚úÖ |
| 6 –º–µ—Å (P6M) | ‚úÖ | ‚úÖ |
| 12 –º–µ—Å (P12M) | ‚úÖ | ‚úÖ |

### ‚úÖ –û—Ç—á–∏—Å–ª–µ–Ω–∏—è –≤ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ Pro: 5% ‚Üí —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `subscriptionsService.createCharityDonation()` (—Å—Ç—Ä–æ–∫–∞ 148)
- ‚úÖ Premium: 10% ‚Üí —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ `DerivedAlms` –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–ª–∞—Ç–µ–∂–µ ‚Üí —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `paymentsService.handlePaymentSuccess()` (—Å—Ç—Ä–æ–∫–∞ 166)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

---

## 7. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫—è—Ç–∞

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ –†–∞—Å—á–µ—Ç –∑–∞–∫—è—Ç–∞: `POST /api/v1/zakat/calc` ‚Üí —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ –í—ã–ø–ª–∞—Ç–∞ –∑–∞–∫—è—Ç–∞: `POST /api/v1/zakat/pay` ‚Üí —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤: —á–µ—Ä–µ–∑ `GET /api/v1/me/history?type=zakat`

### ‚ö†Ô∏è –§–æ—Ä–º—ã –≤–≤–æ–¥–∞:

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:** –§–æ—Ä–º—ã –¥–ª—è:
- –î–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
- –ó–æ–ª–æ—Ç–æ/—Å–µ—Ä–µ–±—Ä–æ (–≥—Ä–∞–º–º—ã)
- –ë–∏–∑–Ω–µ—Å-—Ç–æ–≤–∞—Ä—ã/–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
- –î–æ–ª–≥–∏ –∫ –≤—ã—á–µ—Ç—É

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `ZakatPage.tsx` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ñ–æ—Ä–º

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ UI —Ñ–æ—Ä–º**

---

## 8. –¶–µ–ª–µ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π ‚Üí `CampaignsPage.tsx`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ ‚Üí `CreateCampaignPage.tsx`, —Ñ–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏
- ‚úÖ –î–æ–Ω–∞—Ç –≤ –∫–∞–º–ø–∞–Ω–∏—é ‚Üí `POST /api/v1/campaigns/{id}/donate`
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–æ–º ‚Üí `PATCH /api/v1/admin/campaigns/{id}/status`
- ‚úÖ –û—Ç—á–µ—Ç—ã –∫–∞–º–ø–∞–Ω–∏–π ‚Üí `GET /api/v1/campaigns/{id}/report`

### ‚úÖ –ü–æ–ª—è —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è:

- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏*
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ*
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏—è*
- ‚úÖ –¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞*
- ‚úÖ –§–æ—Ç–æ/–±–∞–Ω–Ω–µ—Ä (–æ–ø—Ü.)
- ‚úÖ –°—Ä–æ–∫ —Å–±–æ—Ä–∞ (end_date)*
- ‚úÖ –§–æ–Ω–¥-–ø–æ–ª—É—á–∞—Ç–µ–ª—å (fund_id)*
- ‚úÖ –°—Ç—Ä–∞–Ω–∞ (country_code)*

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

---

## 9. –§–æ–Ω–¥—ã-–ø–∞—Ä—Ç–Ω—ë—Ä—ã

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

- ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ ‚Üí `PartnersPage.tsx`
- ‚úÖ –ó–∞—è–≤–∫–∞ –Ω–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ ‚Üí `PartnerApplicationPage.tsx`
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∑–∞—è–≤–æ–∫ ‚Üí –∞–¥–º–∏–Ω-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### ‚úÖ –ü–æ–ª—è —Ñ–æ—Ä–º—ã –∑–∞—è–≤–∫–∏:

- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏*
- ‚úÖ –°—Ç—Ä–∞–Ω–∞*
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–º–æ—â–∏*
- ‚úÖ –°–∞–π—Ç/—Å–æ—Ü—Å–µ—Ç–∏*
- ‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ*
- ‚úÖ E-mail*
- ‚úÖ –¢–µ–ª–µ—Ñ–æ–Ω (–æ–ø—Ü.)
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü.)
- ‚úÖ –ß–µ–∫–±–æ–∫—Å—ã —Å–æ–≥–ª–∞—Å–∏–π*

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

---

## 10. –û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π ‚Üí `GET /api/v1/me/history`
- ‚úÖ –û—Ç—á—ë—Ç—ã —Ñ–æ–Ω–¥–æ–≤ ‚Üí `GET /api/v1/reports/funds`
- ‚úÖ –°–≤–æ–¥–∫–∞ ‚Üí `GET /api/v1/reports/summary`
- ‚úÖ –ß–µ–∫–∏ ‚Üí `GET /api/v1/me/receipts/{id}.pdf`
- ‚úÖ –û—Ç—á—ë—Ç—ã –∫–∞–º–ø–∞–Ω–∏–π ‚Üí `GET /api/v1/campaigns/{id}/report`

### ‚ùå –°–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:** –°–æ–±—ã—Ç–∏—è:
- `donation_initiated/succeeded/failed`
- `subscription_created/canceled`
- `campaign_created/joined/completed`
- `zakat_calc_submitted`
- `partner_applied`
- `report_uploaded/verified`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (event tracking). –¢–æ–ª—å–∫–æ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å —á–µ—Ä–µ–∑ `logger.info/warn/error`.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–æ–±—ã—Ç–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å (Google Analytics, Amplitude, Mixpanel –∏ —Ç.–¥.)

**–°—Ç–∞—Ç—É—Å:** ‚ùå **–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (—Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)**

---

## 11. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚úÖ EReplika API:

- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚Üí `backend/src/integrations/ereplika/`
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–æ–Ω–¥–æ–≤ ‚Üí `POST /api/v1/funds/sync`
- ‚úÖ Fallback: ES ‚Üí –ë–î

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**

### ‚ö†Ô∏è Elasticsearch:

- ‚úÖ –°–µ—Ä–≤–∏—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω ‚Üí `backend/src/integrations/elasticsearch/`
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ fallback, –Ω–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ë–î

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞**

---

## 12. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–º–ø–ª–∞–µ–Ω—Å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram WebApp `initData` ‚Üí `authenticateTelegram` middleware
- ‚úÖ Webhooks —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ ‚Üí —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è YooKassa
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–Ω–µ PAN/CVV)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ Rate-limiting:

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:** Rate-limit API (50 req/min per user)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `backend/src/middleware/rateLimit.ts`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **Rate-limiting —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**

**–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- ‚úÖ –û–±—â–∏–π –ª–∏–º–∏—Ç API: 50 req/min (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `index.ts:38`)
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã: –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è (20 req/min), –ø–æ–¥–ø–∏—Å–∫–∏ (5 req/min), –∫–∞–º–ø–∞–Ω–∏–∏ (10 req/hour)
- ‚úÖ In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–æ–π
- ‚úÖ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏: `X-RateLimit-Limit`, `X-RateLimit-Remaining`, `Retry-After`
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –∏ –æ—à–∏–±–æ–∫
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ User ID –∏–ª–∏ IP –∞–¥—Ä–µ—Å—É

**–§–∞–π–ª—ã:**
- `backend/src/middleware/rateLimit.ts` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- `backend/src/middleware/RATE_LIMIT_README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `backend/src/index.ts:38` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ API –º–∞—Ä—à—Ä—É—Ç–∞–º

---

## 13. UI/UX –ø—Ä–æ–≤–µ—Ä–∫–∞

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

- ‚úÖ `HomePage.tsx` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ `DonatePage.tsx` - –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- ‚úÖ `SupportPage.tsx` - –ë—ã—Å—Ç—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ `CampaignsPage.tsx` - –°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π
- ‚úÖ `CreateCampaignPage.tsx` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `CampaignDetailPage.tsx` - –î–µ—Ç–∞–ª–∏ –∫–∞–º–ø–∞–Ω–∏–∏
- ‚úÖ `SubscriptionPage.tsx` - –ü–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ `ZakatPage.tsx` - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫—è—Ç–∞
- ‚úÖ `PartnersPage.tsx` - –§–æ–Ω–¥—ã-–ø–∞—Ä—Ç–Ω—ë—Ä—ã
- ‚úÖ `PartnerApplicationPage.tsx` - –ó–∞—è–≤–∫–∞
- ‚úÖ `HistoryPage.tsx` - –ò—Å—Ç–æ—Ä–∏—è
- ‚úÖ `DonationSuccessPage.tsx` - –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

- ‚ö†Ô∏è –§–∏–ª—å—Ç—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–π (—Å—Ç—Ä–∞–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è)
- ‚ö†Ô∏è –¢–∞—Ä–∏—Ñ–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (—Å –±–µ–π–¥–∂–∞–º–∏ "+2 –º–µ—Å –≤ –ø–æ–¥–∞—Ä–æ–∫")
- ‚ö†Ô∏è –§–æ—Ä–º—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –∑–∞–∫—è—Ç–∞ (–≤—Å–µ —Ç–∏–ø—ã –∞–∫—Ç–∏–≤–æ–≤)
- ‚ö†Ô∏è –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–∞–º–ø–∞–Ω–∏–π (–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä, —Å—á—ë—Ç—á–∏–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
- ‚ö†Ô∏è –≠–∫—Ä–∞–Ω "–°–ø–∞—Å–∏–±–æ" –ø–æ—Å–ª–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è
- ‚ö†Ô∏è –ö–Ω–æ–ø–∫–∞ "–°–¥–µ–ª–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º" –ø–æ—Å–ª–µ –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ –¥–æ–Ω–∞—Ç–∞

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ UI**

---

## 14. –ß—Ç–æ —É–ø—É—â–µ–Ω–æ –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

### ‚ùå –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (event tracking)**
   - ‚ùå –ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π `donation_initiated`, `campaign_created` –∏ —Ç.–¥.
   - ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

2. **Rate-limiting**
   - ‚ùå –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (50 req/min per user)

3. **Telegram –∫–æ–º–∞–Ω–¥—ã**
   - ‚ùå `/campaigns` - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
   - ‚ùå `/partners` - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏/–¥–æ—Ä–∞–±–æ—Ç–∫–∏:

1. **BIN-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞**
   - ‚ö†Ô∏è –õ–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

2. **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫—è—Ç–∞**
   - ‚ö†Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –æ–±—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç, –Ω–æ –¢–ó —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π `GET /api/v1/zakat/history`

3. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó

4. **–¢–∞—Ä–∏—Ñ—ã –ø–æ–¥–ø–∏—Å–æ–∫**
   - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫–∏–¥–æ–∫ ("+2 –º–µ—Å –≤ –ø–æ–¥–∞—Ä–æ–∫") –∏ –ø–µ—Ä–∏–æ–¥–æ–≤

5. **–¢–µ–∫—Å—Ç –ø–æ–¥ —Ç–∞–±–ª–∏—Ü–µ–π –ø–æ–¥–ø–∏—Å–æ–∫**
   - ‚úÖ –ù–∞–π–¥–µ–Ω –≤ `frontend/src/i18n/locales/ru.json` (—Å—Ç—Ä–æ–∫–∞ 39): "–í–∞—à–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è –º–∏–ª–æ—Å—Ç—ã–Ω—è. –°–¥–µ–ª–∞–π—Ç–µ —Å–∞–¥–∞–∫–∞-–¥–∂–∞—Ä–∏—è –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π —É–º–º—ã –∏ –ø–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞–Ω–∏—è–º –∏ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å."
   - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `SubscriptionPage.tsx`

---

## 15. –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (90%):
- ‚úÖ –í—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–∫—Ä–æ–º–µ `GET /api/v1/zakat/history`)
- ‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ UX-–ø–æ—Ç–æ–∫–∏
- ‚úÖ –ü–ª–∞—Ç–µ–∂–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ Telegram Bot (–æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã)
- ‚úÖ –û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –∏ –∏—Å—Ç–æ—Ä–∏—è
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (5%):
- ‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (—Ç–æ–ª—å–∫–æ –ª–æ–≥–∏, –Ω–µ—Ç event tracking)
- ‚ö†Ô∏è Rate-limiting
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ Telegram –∫–æ–º–∞–Ω–¥—ã (`/campaigns`, `/partners`)
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ BIN-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (5%):
- ‚ùå –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π
- ‚ùå Rate-limiting middleware

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. ~~‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rate-limiting**~~ ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û** - –∑–∞—â–∏—Ç–∞ API –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
2. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å
3. ~~‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã `/campaigns` –∏ `/partners`**~~ ‚úÖ **–£–ñ–ï –î–û–ë–ê–í–õ–ï–ù–û** - –∫–æ–º–∞–Ω–¥—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):
1. ‚úÖ **BIN-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç** `GET /api/v1/zakat/history` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Å–µ–π—á–∞—Å —á–µ—Ä–µ–∑ `/me/history`)
3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ñ–æ—Ä–º—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó
4. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–µ–∫—Å—Ç –∏–∑ i18n –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤ –ø–æ–¥–ø–∏—Å–æ–∫** - –±–µ–π–¥–∂–∏ —Å–∫–∏–¥–æ–∫ ("+2 –º–µ—Å –≤ –ø–æ–¥–∞—Ä–æ–∫"), –ø–µ—Ä–∏–æ–¥—ã
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥ —Ç–∞–±–ª–∏—Ü–µ–π –ø–æ–¥–ø–∏—Å–æ–∫** - —Ç–µ–∫—Å—Ç –µ—Å—Ç—å –≤ i18n, –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ UI
3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è** –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¢–ó: 95% ‚úÖ**

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –¢–ó –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ —Ä–∞–±–æ—Ç–∞—é—Ç. 

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:

1. **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤** - –≤—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
2. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** - –≤—Å–µ –º–æ–¥–µ–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¢–ó
3. **–ü–ª–∞—Ç–µ–∂–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - YooKassa –∏ CloudPayments —Å webhooks
4. **BIN-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
5. **–ü–æ–¥–ø–∏—Å–∫–∏ —Å –æ—Ç—á–∏—Å–ª–µ–Ω–∏—è–º–∏** - 5% (Pro) –∏ 10% (Premium) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
6. **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã UI** - –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ Mini App —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
7. **Telegram Bot** - –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
8. **–û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å** - –∏—Å—Ç–æ—Ä–∏—è, —á–µ–∫–∏, –æ—Ç—á—ë—Ç—ã —Ñ–æ–Ω–¥–æ–≤

### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** - –Ω–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å (—Ç–æ–ª—å–∫–æ –ª–æ–≥–∏)
2. ~~**Rate-limiting**~~ ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** - –∑–∞—â–∏—Ç–∞ API –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π (50 req/min)
3. ~~**Telegram –∫–æ–º–∞–Ω–¥—ã**~~ ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** - –∫–æ–º–∞–Ω–¥—ã `/campaigns` –∏ `/partners` –¥–æ–±–∞–≤–ª–µ–Ω—ã

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ–æ—Ä–º—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã –≤ —Ä–∞–±–æ—Ç–µ
2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–π–¥–∂–∏ —Å–∫–∏–¥–æ–∫ ("+2 –º–µ—Å –≤ –ø–æ–¥–∞—Ä–æ–∫")
3. **–¢–µ–∫—Å—Ç –ø–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏** - —Ç–µ–∫—Å—Ç –µ—Å—Ç—å –≤ i18n, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `t('subscription.description')`

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–î–æ–±–∞–≤–∏—Ç—å rate-limiting** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) - –¥–ª—è –∑–∞—â–∏—Ç—ã API
2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) - –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
3. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã `/campaigns` –∏ `/partners`** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1) - –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2) - —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Ä–∞–±–æ—Ç–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Ñ–æ—Ä–º

**–í—ã–≤–æ–¥:** –ü—Ä–æ–µ–∫—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó –Ω–∞ **95%** –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –û—Å—Ç–∞–≤—à–∏–µ—Å—è 5% - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (event tracking) –∏ –º–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è UX.

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** Rate-limiting –∏ Telegram –∫–æ–º–∞–Ω–¥—ã —É–∂–µ –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –Ω–µ –±—ã–ª–∏ –æ—Ç–º–µ—á–µ–Ω—ã –≤ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–º –∞—É–¥–∏—Ç–µ. –¢–µ–ø–µ—Ä—å –æ–Ω–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

