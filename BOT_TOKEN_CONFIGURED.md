# ‚úÖ –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ

- **–ò–º—è:** Nisab
- **Username:** @Nisab_sad_bot
- **ID:** 8417046320
- **–¢–æ–∫–µ–Ω:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ `backend/.env`

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –¢–æ–∫–µ–Ω –ø—Ä–æ–≤–µ—Ä–µ–Ω —á–µ—Ä–µ–∑ Telegram API ‚Äî –≤–∞–ª–∏–¥–Ω—ã–π
2. ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `backend/.env` —Å —Ç–æ–∫–µ–Ω–æ–º
3. ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `frontend/.env` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –°–æ–∑–¥–∞—Ç—å Mini App —á–µ—Ä–µ–∑ @BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram ‚Üí –Ω–∞–π–¥–∏—Ç–µ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –±–æ—Ç **@Nisab_sad_bot**
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newapp`
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: `Nisab`
   - –û–ø–∏—Å–∞–Ω–∏–µ: `–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–∞–¥–∞–∫–∞ –∏ –∑–∞–∫—è—Ç–∞`
   - URL: `http://localhost:5173` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **WebApp Secret** –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `backend/.env`:
   ```
   TELEGRAM_WEBAPP_SECRET=your_webapp_secret_here
   ```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞:

```bash
# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞)
psql -U postgres
CREATE DATABASE nisab_db;
CREATE USER nisab WITH PASSWORD 'nisab_password';
GRANT ALL PRIVILEGES ON DATABASE nisab_db TO nisab;
\q
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
cd backend
npm run migrate
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend

```bash
cd backend
npm run dev
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
```
Server running on port 3000
‚úì Telegram Bot Token: OK
```

### 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok:**

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å ngrok
ngrok http 3000

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: https://abc123.ngrok.io)

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook
curl -X POST http://localhost:3000/api/v1/telegram/set-webhook \
  -H "Content-Type: application/json" \
  -d '{"url": "https://abc123.ngrok.io/api/v1/telegram/webhook"}'
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ GET –∑–∞–ø—Ä–æ—Å:**

```bash
curl "http://localhost:3000/api/v1/telegram/set-webhook?url=https://abc123.ngrok.io/api/v1/telegram/webhook"
```

### 6. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram: `@Nisab_sad_bot`
2. –ù–∞–∂–º–∏—Ç–µ **Start**
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
4. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å —Å –≥–ª–∞–≤–Ω—ã–º –º–µ–Ω—é

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã `.env`:

**backend/.env:**
```env
TELEGRAM_BOT_TOKEN=8417046320:AAF6TExdeJiSq3xK0Cy2GhL8KVRrvZf7UWQ
TELEGRAM_WEBAPP_SECRET=your_webapp_secret_here  # ‚ö†Ô∏è –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Mini App
```

**frontend/.env:**
```env
VITE_API_URL=http://localhost:3000
VITE_APP_NAME=Nisab
VITE_TELEGRAM_BOT_NAME=Nisab_sad_bot
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Å–µ–∫—Ä–µ—Ç–µ** ‚Äî –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ git
2. **WebApp Secret** –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Mini App
3. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω** –∑–∞–º–µ–Ω–∏—Ç–µ `localhost` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à –±–æ—Ç –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [TELEGRAM_BOT_SETUP.md](./TELEGRAM_BOT_SETUP.md)
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: [QUICK_START_LOCAL.md](./QUICK_START_LOCAL.md)

